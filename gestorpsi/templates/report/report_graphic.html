<script type="text/javascript">


    function make_graphic(option_title , rows){ 

        // Create the data table.
        var data = new google.visualization.DataTable();

        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');

        data.addRows( rows );

        // Set chart options
        var options = {'title': option_title,
                        'width':600,
                        'height':600,
                        is3D: true,
        };


        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('report_table'));
        chart.draw(data, options);

    }

    // convert Python array to JS array
    var rows = [];
    {% for i in option_rows %} rows.push( [ "{{ i.0 }}" , {{ i.1 }} ] ); {% endfor %}

    // call function
    make_graphic("{{ option_title }}", rows );

</script>
